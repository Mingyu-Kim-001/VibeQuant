[
  {
    "id": "STR_e38ee6bc",
    "name": "Short-term Reversal (lookback=5, hold_period=5, bottom_n=5)",
    "hypothesis_id": "HYP_8772a589",
    "description": "Stocks with worst 5-day returns rebound over next 5 days",
    "category": "mean_reversion",
    "status": "passed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    lookback = 5\n    hold_period = 5\n    bottom_n = 5\n\n    returns = prices.pct_change(lookback)\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        ret = returns.iloc[i].dropna()\n\n        if len(ret) >= bottom_n:\n            losers = ret.nsmallest(bottom_n).index.tolist()\n            weight = 1.0 / len(losers)\n            for j in range(i, end_idx):\n                for sym in losers:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T22:53:46.302048",
    "updated_at": "2026-02-02T22:53:55.597059",
    "version": 1,
    "backtest_results": {
      "total_return": 203.969340038531,
      "annual_return": 0.697465776577503,
      "sharpe_ratio": 0.8133655458269121,
      "max_drawdown": -0.7958553394021494,
      "win_rate": 0.5085812356979404,
      "num_trades": 1748,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.723525801697279,
      "beta": 1.325524572291505,
      "correlation_to_spy": 0.22297720635836554,
      "sortino_ratio": 0.13895331395936672,
      "calmar_ratio": null,
      "profit_factor": 1.5956929695590376,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "lookback": 5,
      "hold_period": 5,
      "bottom_n": 5
    },
    "tags": [],
    "failure_reasons": [],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_58e26cdd",
    "name": "New High Breakout (lookback=60, threshold=0.95, max_positions=10)",
    "hypothesis_id": "HYP_76c33ae4",
    "description": "Stocks within 0.95% of 60-day high continue trending",
    "category": "momentum",
    "status": "failed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    lookback = 60\n    threshold = 0.95\n    max_positions = 10\n\n    rolling_high = prices.rolling(window=lookback, min_periods=lookback).max()\n    near_high = prices >= (rolling_high * threshold)\n    distance = prices / rolling_high\n\n    signals = near_high.astype(float)\n\n    for i in range(len(signals)):\n        active = signals.iloc[i] > 0\n        if active.sum() > max_positions:\n            closest = distance.iloc[i][active].nlargest(max_positions).index\n            for col in signals.columns:\n                if col not in closest:\n                    signals.loc[prices.index[i], col] = 0\n\n    row_sums = signals.sum(axis=1).replace(0, 1)\n    signals = signals.div(row_sums, axis=0)\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T22:53:55.597913",
    "updated_at": "2026-02-02T22:55:11.599916",
    "version": 1,
    "backtest_results": {
      "total_return": 0.9643666305053453,
      "annual_return": 0.0694211042418853,
      "sharpe_ratio": 0.18435385900685872,
      "max_drawdown": -0.39176524213504704,
      "win_rate": 0.41455262255742203,
      "num_trades": 11668,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.02544607300837369,
      "beta": 0.493431974957574,
      "correlation_to_spy": 0.36580663506205435,
      "sortino_ratio": 0.01626225186576057,
      "calmar_ratio": null,
      "profit_factor": 1.110040083818663,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "lookback": 60,
      "threshold": 0.95,
      "max_positions": 10
    },
    "tags": [],
    "failure_reasons": [
      "Sharpe ratio 0.18 < 0.5"
    ],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_cec2f391",
    "name": "RSI Mean Reversion (rsi_period=7, rsi_entry=20, rsi_exit=50, max_hold=5, max_positions=5)",
    "hypothesis_id": "HYP_9e089cb7",
    "description": "Stocks with RSI below 20 revert upward within 5 days",
    "category": "mean_reversion",
    "status": "passed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    rsi_period = 7\n    rsi_entry = 20\n    rsi_exit = 50\n    max_hold = 5\n    max_positions = 5\n\n    delta = prices.diff()\n    gain = delta.where(delta > 0, 0.0)\n    loss = (-delta).where(delta < 0, 0.0)\n    avg_gain = gain.rolling(window=rsi_period, min_periods=rsi_period).mean()\n    avg_loss = loss.rolling(window=rsi_period, min_periods=rsi_period).mean()\n    rs = avg_gain / avg_loss.replace(0, np.nan)\n    rsi = 100 - (100 / (1 + rs))\n    rsi = rsi.fillna(50)\n\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n    holding = pd.DataFrame(0, index=prices.index, columns=prices.columns)\n\n    for i in range(1, len(prices)):\n        for col in prices.columns:\n            prev_sig = signals.iloc[i-1][col] if i > 0 else 0\n            prev_hold = holding.iloc[i-1][col] if i > 0 else 0\n\n            if prev_sig > 0:\n                if rsi.iloc[i][col] > rsi_exit or prev_hold >= max_hold:\n                    signals.loc[prices.index[i], col] = 0\n                    holding.loc[prices.index[i], col] = 0\n                else:\n                    signals.loc[prices.index[i], col] = 1.0\n                    holding.loc[prices.index[i], col] = prev_hold + 1\n            else:\n                if rsi.iloc[i][col] < rsi_entry:\n                    signals.loc[prices.index[i], col] = 1.0\n                    holding.loc[prices.index[i], col] = 1\n\n    # Limit positions\n    for i in range(len(signals)):\n        active = signals.iloc[i] > 0\n        if active.sum() > max_positions:\n            rsi_vals = rsi.iloc[i][active].nsmallest(max_positions).index\n            for col in signals.columns:\n                if col not in rsi_vals:\n                    signals.loc[prices.index[i], col] = 0\n\n    row_sums = signals.sum(axis=1).replace(0, 1)\n    signals = signals.div(row_sums, axis=0)\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T22:55:11.600738",
    "updated_at": "2026-02-02T22:58:24.573367",
    "version": 1,
    "backtest_results": {
      "total_return": 14.71321490881821,
      "annual_return": 0.31497851138212596,
      "sharpe_ratio": 0.5150737062047825,
      "max_drawdown": -0.7269431098992009,
      "win_rate": 0.5866932393070673,
      "num_trades": 6523,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.30970586186103033,
      "beta": 1.0886224296519105,
      "correlation_to_spy": 0.24196154986143648,
      "sortino_ratio": 0.09911035045530493,
      "calmar_ratio": null,
      "profit_factor": 1.3109575799820625,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "rsi_period": 7,
      "rsi_entry": 20,
      "rsi_exit": 50,
      "max_hold": 5,
      "max_positions": 5
    },
    "tags": [],
    "failure_reasons": [],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_f69d31bc",
    "name": "Low Volatility (vol_lookback=20, hold_period=21, top_n=10)",
    "hypothesis_id": "HYP_c71eaf84",
    "description": "Stocks with lowest 20-day volatility outperform on risk-adjusted basis",
    "category": "volatility",
    "status": "failed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    vol_lookback = 20\n    top_n = 10\n    hold_period = 21\n\n    returns = prices.pct_change()\n    volatility = returns.rolling(window=vol_lookback, min_periods=vol_lookback).std()\n\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(vol_lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        vol = volatility.iloc[i].dropna()\n\n        if len(vol) >= top_n:\n            low_vol = vol.nsmallest(top_n).index.tolist()\n            weight = 1.0 / len(low_vol)\n            for j in range(i, end_idx):\n                for sym in low_vol:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T22:58:24.574773",
    "updated_at": "2026-02-02T22:58:34.594301",
    "version": 1,
    "backtest_results": {
      "total_return": 24.49352955181635,
      "annual_return": 0.3797829995070754,
      "sharpe_ratio": 0.32435596648949755,
      "max_drawdown": -0.07741003833393148,
      "win_rate": 0.5909090909090909,
      "num_trades": 110,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 1.2869517028109312,
      "beta": -0.11483155936517385,
      "correlation_to_spy": -0.005413372908101423,
      "sortino_ratio": 1.683283273395587,
      "calmar_ratio": null,
      "profit_factor": 38.542941306245325,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "vol_lookback": 20,
      "hold_period": 21,
      "top_n": 10
    },
    "tags": [],
    "failure_reasons": [
      "Sharpe ratio 0.32 < 0.5"
    ],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_938b288d",
    "name": "Price Momentum (lookback=5, hold_period=5, top_n=5)",
    "hypothesis_id": "HYP_69f23194",
    "description": "Stocks with highest 5-day momentum continue outperforming over the next 5 days",
    "category": "momentum",
    "status": "passed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    lookback = 5\n    hold_period = 5\n    top_n = 5\n\n    momentum = prices.pct_change(lookback)\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        mom = momentum.iloc[i].dropna()\n        if len(mom) >= top_n:\n            top = mom.nlargest(top_n).index.tolist()\n            weight = 1.0 / len(top)\n            for j in range(i, end_idx):\n                for sym in top:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T22:58:34.595658",
    "updated_at": "2026-02-02T22:58:43.719405",
    "version": 1,
    "backtest_results": {
      "total_return": 9.282068322771147,
      "annual_return": 0.2606925440313679,
      "sharpe_ratio": 0.5667763789677328,
      "max_drawdown": -0.7539541021727851,
      "win_rate": 0.4867358708189158,
      "num_trades": 1734,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.45208519483899,
      "beta": -0.05895146561249722,
      "correlation_to_spy": -0.015053308236921905,
      "sortino_ratio": 0.06416608470483832,
      "calmar_ratio": null,
      "profit_factor": 1.2250175229442892,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "lookback": 5,
      "hold_period": 5,
      "top_n": 5
    },
    "tags": [],
    "failure_reasons": [],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_90e49a97",
    "name": "Short-term Reversal (lookback=5, hold_period=5, bottom_n=5)",
    "hypothesis_id": "HYP_5803c738",
    "description": "Stocks with worst 5-day returns rebound over next 5 days",
    "category": "mean_reversion",
    "status": "passed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    lookback = 5\n    hold_period = 5\n    bottom_n = 5\n\n    returns = prices.pct_change(lookback)\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        ret = returns.iloc[i].dropna()\n\n        if len(ret) >= bottom_n:\n            losers = ret.nsmallest(bottom_n).index.tolist()\n            weight = 1.0 / len(losers)\n            for j in range(i, end_idx):\n                for sym in losers:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T23:10:06.379982",
    "updated_at": "2026-02-02T23:10:08.752836",
    "version": 1,
    "backtest_results": {
      "total_return": 147.58556367518997,
      "annual_return": 0.6440403350193433,
      "sharpe_ratio": 0.8273470964592702,
      "max_drawdown": -0.8546690319994638,
      "win_rate": 0.49928537398761313,
      "num_trades": 2099,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.6503548600071035,
      "beta": 1.1612677887077372,
      "correlation_to_spy": 0.2237469080980678,
      "sortino_ratio": 0.1238050623963359,
      "calmar_ratio": null,
      "profit_factor": 1.5066174455266084,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "lookback": 5,
      "hold_period": 5,
      "bottom_n": 5
    },
    "tags": [],
    "failure_reasons": [],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_522f2cb1",
    "name": "Momentum + Low Vol (mom_lookback=60, vol_lookback=60, hold_period=21, top_n=10)",
    "hypothesis_id": "HYP_37142f26",
    "description": "Stocks with top momentum AND low volatility provide best risk-adjusted returns",
    "category": "factor",
    "status": "failed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    mom_lookback = 60\n    vol_lookback = 60\n    hold_period = 21\n    top_n = 10\n\n    momentum = prices.pct_change(mom_lookback)\n    returns = prices.pct_change()\n    volatility = returns.rolling(window=vol_lookback).std()\n\n    # Rank both factors (higher is better for momentum, lower is better for vol)\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(max(mom_lookback, vol_lookback), len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n\n        mom = momentum.iloc[i].dropna()\n        vol = volatility.iloc[i].dropna()\n\n        # Get common symbols\n        common = mom.index.intersection(vol.index)\n        if len(common) < top_n:\n            continue\n\n        # Rank momentum (higher = better rank)\n        mom_rank = mom[common].rank(ascending=True)\n        # Rank volatility (lower = better rank)\n        vol_rank = vol[common].rank(ascending=False)\n        # Combined score\n        combined = mom_rank + vol_rank\n\n        top = combined.nlargest(top_n).index.tolist()\n        weight = 1.0 / len(top)\n        for j in range(i, end_idx):\n            for sym in top:\n                signals.loc[prices.index[j], sym] = weight\n\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T23:10:08.754070",
    "updated_at": "2026-02-02T23:10:11.329829",
    "version": 1,
    "backtest_results": {
      "total_return": 0.49350123186016037,
      "annual_return": 0.04068064700114604,
      "sharpe_ratio": 0.0014857876953069803,
      "max_drawdown": -0.28716325555424027,
      "win_rate": 0.4947526236881559,
      "num_trades": 667,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": -0.02435455598165203,
      "beta": 0.53571231814585,
      "correlation_to_spy": 0.6638347657551118,
      "sortino_ratio": 0.0001069675942348551,
      "calmar_ratio": null,
      "profit_factor": 1.235300830023791,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "mom_lookback": 60,
      "vol_lookback": 60,
      "hold_period": 21,
      "top_n": 10
    },
    "tags": [],
    "failure_reasons": [
      "Sharpe ratio 0.00 < 0.5"
    ],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_4aca7bcf",
    "name": "Sharpe Quality (sharpe_lookback=63, hold_period=21, top_n=10)",
    "hypothesis_id": "HYP_2c456848",
    "description": "Stocks with highest 63-day Sharpe ratio continue outperforming",
    "category": "factor",
    "status": "failed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    sharpe_lookback = 63\n    top_n = 10\n    hold_period = 21\n\n    returns = prices.pct_change()\n    rolling_mean = returns.rolling(window=sharpe_lookback).mean()\n    rolling_std = returns.rolling(window=sharpe_lookback).std()\n    rolling_sharpe = (rolling_mean / rolling_std.replace(0, np.nan)) * np.sqrt(252)\n\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(sharpe_lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        sharpe = rolling_sharpe.iloc[i].dropna()\n\n        if len(sharpe) >= top_n:\n            top_quality = sharpe.nlargest(top_n).index.tolist()\n            weight = 1.0 / len(top_quality)\n            for j in range(i, end_idx):\n                for sym in top_quality:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T23:10:11.330925",
    "updated_at": "2026-02-02T23:10:13.883195",
    "version": 1,
    "backtest_results": {
      "total_return": 1.151529980372623,
      "annual_return": 0.07914014317831541,
      "sharpe_ratio": 0.22914535247115714,
      "max_drawdown": -0.3945944375017514,
      "win_rate": 0.4895397489539749,
      "num_trades": 717,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.025899347848383353,
      "beta": 0.5471581425197681,
      "correlation_to_spy": 0.42737590554824634,
      "sortino_ratio": 0.01911654402826817,
      "calmar_ratio": null,
      "profit_factor": 1.1744615666028715,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "sharpe_lookback": 63,
      "hold_period": 21,
      "top_n": 10
    },
    "tags": [],
    "failure_reasons": [
      "Sharpe ratio 0.23 < 0.5"
    ],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_b4302264",
    "name": "Price Momentum (lookback=5, hold_period=5, top_n=5)",
    "hypothesis_id": "HYP_203ee380",
    "description": "Stocks with highest 5-day momentum continue outperforming over the next 5 days",
    "category": "momentum",
    "status": "passed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    lookback = 5\n    hold_period = 5\n    top_n = 5\n\n    momentum = prices.pct_change(lookback)\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        mom = momentum.iloc[i].dropna()\n        if len(mom) >= top_n:\n            top = mom.nlargest(top_n).index.tolist()\n            weight = 1.0 / len(top)\n            for j in range(i, end_idx):\n                for sym in top:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T23:10:13.884327",
    "updated_at": "2026-02-02T23:10:16.431069",
    "version": 1,
    "backtest_results": {
      "total_return": 17.469852289197686,
      "annual_return": 0.3362784220994499,
      "sharpe_ratio": 0.5474752066529678,
      "max_drawdown": -0.7727397703502109,
      "win_rate": 0.4720616570327553,
      "num_trades": 2076,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.5916106782913421,
      "beta": -0.30907009712100114,
      "correlation_to_spy": -0.06022359241714146,
      "sortino_ratio": 0.0891430405318832,
      "calmar_ratio": null,
      "profit_factor": 1.3426748221140572,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "lookback": 5,
      "hold_period": 5,
      "top_n": 5
    },
    "tags": [],
    "failure_reasons": [],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  },
  {
    "id": "STR_6d16c33d",
    "name": "Low Volatility (vol_lookback=20, hold_period=21, top_n=10)",
    "hypothesis_id": "HYP_d3eed36c",
    "description": "Stocks with lowest 20-day volatility outperform on risk-adjusted basis",
    "category": "volatility",
    "status": "failed",
    "code": "\ndef generate_signals(prices: pd.DataFrame) -> pd.DataFrame:\n    vol_lookback = 20\n    top_n = 10\n    hold_period = 21\n\n    returns = prices.pct_change()\n    volatility = returns.rolling(window=vol_lookback, min_periods=vol_lookback).std()\n\n    signals = pd.DataFrame(0.0, index=prices.index, columns=prices.columns)\n\n    for i in range(vol_lookback, len(prices), hold_period):\n        end_idx = min(i + hold_period, len(prices))\n        vol = volatility.iloc[i].dropna()\n\n        if len(vol) >= top_n:\n            low_vol = vol.nsmallest(top_n).index.tolist()\n            weight = 1.0 / len(low_vol)\n            for j in range(i, end_idx):\n                for sym in low_vol:\n                    signals.loc[prices.index[j], sym] = weight\n    return signals.fillna(0)\n",
    "created_at": "2026-02-02T23:10:16.432759",
    "updated_at": "2026-02-02T23:10:18.989850",
    "version": 1,
    "backtest_results": {
      "total_return": 0.5897834519877916,
      "annual_return": 0.04716390099677659,
      "sharpe_ratio": -0.0016038979752712687,
      "max_drawdown": -0.1783127918439668,
      "win_rate": 0.5813953488372093,
      "num_trades": 430,
      "start_date": "2016-01-04",
      "end_date": "2026-02-02",
      "benchmark_return": null,
      "alpha": 0.004469735600779207,
      "beta": 0.3261030249245304,
      "correlation_to_spy": 0.6674885525592004,
      "sortino_ratio": -0.00011617576026728988,
      "calmar_ratio": null,
      "profit_factor": 1.6605332386006577,
      "avg_trade_return": null,
      "metadata": {}
    },
    "feedback": [],
    "parameters": {
      "vol_lookback": 20,
      "hold_period": 21,
      "top_n": 10
    },
    "tags": [],
    "failure_reasons": [
      "Sharpe ratio -0.00 < 0.5"
    ],
    "improvement_suggestions": [],
    "parent_strategy_id": null
  }
]